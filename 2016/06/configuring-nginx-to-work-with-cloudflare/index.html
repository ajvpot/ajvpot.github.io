<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=mobile-web-app-capable content="yes"><meta name=viewport content="width=device-width,initial-scale=1"><title>Alex Vanderpot</title>
<meta name=description content="Discover the latest in online security with Alex Vanderpot's personal blog. Stay up to date on the latest developments, gain a deeper understanding of the principles, and get insights on technology and trends."><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 110 110%22><text y=%22.9em%22 font-size=%2290%22>⭐</text></svg>"><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=me href=https://github.com/ajvpot><link rel=me href=https://twitter.com/ajvpot><link rel=me href=https://infosec.exchange/@vanderpot><link rel=stylesheet href=https://vanderpot.com/css/layout.css crossorigin=anonymous media=screen><link rel=stylesheet href=https://vanderpot.com/skins/vanderpot.css crossorigin=anonymous media=screen><meta property="og:url" content="https://vanderpot.com/"><meta property="og:title" content="Alex Vanderpot"><meta property="og:site_name" content="Alex Vanderpot"><meta property="og:type" content="website"><meta property="og:description" content="Discover the latest in online security with Alex Vanderpot's personal blog. Stay up to date on the latest developments, gain a deeper understanding of the principles, and get insights on technology and trends."><meta name=twitter:title content="Alex Vanderpot"><meta name=twitter:description content="Discover the latest in online security with Alex Vanderpot's personal blog. Stay up to date on the latest developments, gain a deeper understanding of the principles, and get insights on technology and trends."><meta name=twitter:creator content="ajvpot"></head><body><header><section><div class="header flex row"><div class="header__item flex row"><div id=logo></div><a id=site__name href=https://vanderpot.com/>Alex Vanderpot</a></div><div class="flex row"><nav aria-label="page menu" class="flex row"><ul role=menubar class="flex row"><li role=none><a class=menu__item href=https://vanderpot.com/><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38.0 01-.9 3.8A8.5 8.5.0 0112.5 20a8.38 8.38.0 01-3.8-.9L3 21l1.9-5.7A8.38 8.38.0 014 11.5a8.5 8.5.0 014.7-7.6 8.38 8.38.0 013.8-.9h.5a8.48 8.48.0 018 8v.5z"/></svg></a></li></ul></nav></div></div></section></header><main aria-role=main><section><ul id=feed__ul><li class="feed__li h-entry"><div class=feed__content><time class="hidden dt-published">2016-06-18 16:38:55 +0000 UTC</time><div class="flex properties__row"><div rel=author class="flex left p-author h-card"><img class=u-photo src=https://avatars.githubusercontent.com/u/553597 alt="Alex Vanderpot" id=author-img><div><p rel=me class=p-name id=author-name>Alex Vanderpot</p><p class=properties>Jun 18, 2016</p></div></div><div class="flex right properties"><a class="icon u-url" href=https://vanderpot.com/2016/06/configuring-nginx-to-work-with-cloudflare/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg></a></div></div><article class="md p-summary e-content"><h2 class=p-name>Securing NGINX with CloudFlare</h2><p>A determined hacker can expose the origin IP address of a website behind a reverse proxy service using many methods. One of the methods I have seen used against me is scanning the entire IPv4 address space and making an HTTP request to every IP address with the Host header set to my domain. If the origin server responds to this request with the same page that is served over CloudFlare, the attacker will know that they have found the correct origin server.</p><p>I wrote this script to generate an NGINX configuration file that will only allow access to a website from CloudFlare IP addresses. Although using the configuration that this script generates will make it harder to find your site’s origin IP address, attackers can still use methods like e-mail origin headers, WordPress pingbacks, and social engineering to find it. This script should not be the only method you are using to protect your website.</p><a class=hidden href=https://brid.gy/publish/mastodon></a><a class=hidden href=https://brid.gy/publish/twitter></a><a class=hidden href=https://fed.brid.gy/></a><data class=p-bridgy-omit-link value=false></data></article><div class="flex properties__row properties"><div class="flex left properties"><span class=properties><span class="dt-published hidden">2016-06-18 16:38:55 +0000 UTC</span>
<a class="icon u-url" href=https://vanderpot.com/2016/06/configuring-nginx-to-work-with-cloudflare/>7 years ago</a></span></div><div class="flex right"></div></div></div><script src=/js/webmention.min.js data-wordcount=100 async></script><div id=webmentions></div></li></ul></section></main></body></html>